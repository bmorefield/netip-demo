<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>System Info</title>
  </head>
  <body>
    <h1>System Info</h1>
    <!-- All of the Node.js APIs are available in this renderer process. -->
    <p>
      Your External IP: <span id="externalip"></span> (<span id="reversedns"></span>)
    </p>
  </body>

  <script>
    // You can also require other files to run in this process
    require('./renderer.js')

    // Get the external IP address and display to user
    var http = require('http');

    http.get({'host': 'api.ipify.org', 'port': 80, 'path': '/'}, function(resp) {
      resp.on('data', function(ip) {
        var parsedIp = String(ip);
        console.log(parsedIp);
        document.getElementById("externalip").innerHTML = parsedIp;

        var dns = require('dns');
        dns.reverse(parsedIp, function(err, hostnames) {
          document.getElementById("reversedns").innerHTML = hostnames;
        });
      });
    });

  </script>
</html>
